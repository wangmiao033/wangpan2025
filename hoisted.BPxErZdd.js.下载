const __vite__fileDeps=["_astro/room.tO2e51xZ.js","_astro/hoisted.OJyx91ho.js","_astro/index-ac41aa6f.DXYIF82p.js","_astro/_commonjsHelpers.BosuxZz1.js","_astro/tslib.es6.Clf8bWCi.js","_astro/firebaseconfig.CP7n2GYU.js","_astro/keychain.ClnDjx0J.js","_astro/BaseLayout.astro_astro_type_script_index_0_lang.AYnwxJWJ.js","_astro/ReplaySubject.CpCor8tR.js","_astro/upload.D2CcX9KZ.js","_astro/preload-helper.ygWHROA3.js","_astro/index.esm2017.MXQ9SwbB.js","_astro/track.CA5x9YUK.js","_astro/db.XZE8EedU.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as L}from"./preload-helper.ygWHROA3.js";import{t as g,m as p}from"./track.CA5x9YUK.js";import"./BaseLayout.astro_astro_type_script_index_0_lang.AYnwxJWJ.js";import"./hoisted.D-M5YoH0.js";import"./LanguageSelector.astro_astro_type_script_index_0_lang.CobQHLZh.js";import"./SetPassword.astro_astro_type_script_index_0_lang.C1AzjBE3.js";import"./_commonjsHelpers.BosuxZz1.js";window.$=function(e){return document.getElementById(e)};window.location.search&&(location.href="/start.html"+window.location.search);const c=$("upbtn");$("box");const k=$("intro"),h=$("downloadlink"),O=$("progbar"),s=$("prog"),T=$("cancelup"),I=$("openlink");document.body.dataset.cur=="KRW"&&$("limitdn").classList.remove("hidden");$("checkpw").addEventListener("click",e=>{e.preventDefault(),confirm(g("confirmtodashboard"))&&(location.href="/dashboard")});document.addEventListener("DOMContentLoaded",()=>{localStorage&&localStorage.getItem("logined")&&($("dashboardlink").textContent=g("dashboard")),$("sharei").innerHTML=$("shareo").innerHTML;const e=document.querySelectorAll(".accordion");e.forEach(n=>{n.addEventListener("click",()=>{e.forEach(t=>{t!==n&&t.removeAttribute("open")})})})});const P=$("copybtn").textContent;$("copybtn").addEventListener("click",e=>{navigator.clipboard.writeText(h.value).then(()=>{console.log("Text copied to clipboard"),$("copybtntext").textContent="ðŸ†—",setTimeout(()=>{$("copybtntext").textContent=P},500)}).catch(n=>{console.error("Could not copy text: ",n)})});function E(e){O.style.width=parseInt(e)+"%",s.textContent=e.toFixed(2)+"%",e>10&&s.classList.contains("absolute")&&s.classList.remove("absolute"),e<10&&!s.classList.contains("absolute")&&s.classList.add("absolute")}typeof window.orientation>"u"&&$("sendnow").classList.remove("hidden");let r;"showOpenFilePicker"in window&&location.href.indexOf("cli")<0?(r=$("selectfile"),$("labelfile").removeAttribute("for")):r=$("labelfile");(document.referer&&document.referer.indexOf("bunkr.la")>0||location.href.indexOf("bunkr.la")>0)&&document.getElementById("tb").classList.replace("hidden","flex");function f(e){e=="init"&&(c.dataset.mode="init"),document.startViewTransition?document.startViewTransition(()=>{k.dataset.mode=e}):k.dataset.mode=e}let w;T.addEventListener("click",e=>{w&&w()});$("retrybtn").addEventListener("click",e=>{$("detail3").toggleAttribute("open")});const x=$("myfile");let u;const y=$("filelist");let C=async function(e){r.disable=!0,u&&x.addEventListener("click",u),E(0),h.value=".....";const[n,t,{upload:_}]=await Promise.all([new Promise(async(o,i)=>{try{let l=[];if("showOpenFilePicker"in window&&location.href.indexOf("cli")<0){const m=await window.showOpenFilePicker({multiple:!0});for(let d of m){const v=await d.getFile();v.fh=d,l.push(v)}o(l)}else x.addEventListener("change",u=function(m){for(let d of m.target.files)l.push(d);l.length>0?o(l):i(new Error("nofile"))})}catch(l){i(l)}}).then(o=>(c.dataset.mode="click",o)).catch(o=>{c.dataset.mode="init"}),L(()=>import("./room.tO2e51xZ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(({createRoom:o})=>o(null,"r",!1,$("checkpw").checked?$("password").value:null)),L(()=>import("./upload.D2CcX9KZ.js"),__vite__mapDeps([9,10,11,2,3,4,7,1,5,6,12,13]))]).catch(o=>{console.log(o),r.disable=!1,c.dataset.mode="init"});if(!n||n.length==0){r.disable=!1,c.dataset.mode="init";return}y.innerHTML="";for(const o of n){const i=document.createElement("span");i.textContent=o.name,i.className="inline-block bg-gray-200 rounded-md px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mt-2",y.appendChild(i)}p("roomCreateStart",{}),w=()=>{confirm(g("fileuploadstop"))&&(a.cancel(),t.delete(),f("init"))};const a=await _(t,"cf");a.on("fileError",o=>{a.pause(),f("error")}),a.progressbyte=(o,i)=>{E(parseFloat(o)/parseFloat(i)*100)},a.addfiles(n),a.done=()=>{f("done")},h.value=t.url,I.href=t.url,f("uploading"),p("roomCreateDone",{mode:"send"})};location.href.indexOf("cli")>0?C():r.addEventListener("click",C);let b;b=()=>{window.scrollY<200||(window.removeEventListener("scroll",b),window.channelopen(),p("enterSite",null))};window.addEventListener("scroll",b);window.listfun=function(e){let n=document.getElementsByClassName("tabs");for(let t=0;t<n.length;t++)n[t].classList.add("opacity-0");setTimeout(()=>{for(let t=0;t<n.length;t++)n[t].classList.add("hidden"),n[t].classList.remove("opacity-0"),n[t].classList.remove("grid");e.checked&&($(e.value).classList.remove("hidden"),$(e.value).classList.add("grid"))},150)};document.referrer&&localStorage&&localStorage.getItem("authinit")===null&&localStorage.setItem("authinit",document.referrer);
